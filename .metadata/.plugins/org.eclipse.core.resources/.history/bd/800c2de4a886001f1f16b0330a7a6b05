package dum;
import java.util.Scanner;
// Nish Patha: APCSA 


public class depths {
    public static Scanner input = new Scanner(System.in);

    public static void main(String[] args) {
        String playAgain;
        do {
            System.out.println("Play HANGMAN!");
            String word = getWord();
            playHangman(word);

            System.out.print("Do you want to play again? (y/n): ");
            playAgain = input.next();
        } while (playAgain.equalsIgnoreCase("y"));

        System.out.println("Thank you for playing HANGMAN. Goodbye!");
    }

    public static String getWord() {
        String[] words = {"write", "program", "that", "hangman", "java", "project", "calculator"};
        int index = (int) (Math.random() * words.length);
        return words[index];
    }

    public static void playHangman(String word) {
        String[] wordArray = word.split("");
        String[] display = new String[wordArray.length];
        boolean[] guessedLetters = new boolean[26]; // To keep track of guessed letters
        int misses = 0;

        for (int i = 0; i < display.length; i++) {
            display[i] = "*";
        }

        boolean gameFinished = false;
        while (!gameFinished && misses < 7) {
            visualizeHangman(misses);

            System.out.print("Enter a letter in word: ");
            String guess = input.next().toLowerCase();

            if (guessedLetters[guess.charAt(0) - 'a']) {
                System.out.println("This letter is already guessed. This is not counted as a miss.");
                continue; // Skip the rest of the loop and prompt for the next guess
            }

            guessedLetters[guess.charAt(0) - 'a'] = true;

            boolean correctGuess = false;

            for (int i = 0; i < wordArray.length; i++) {
                if (wordArray[i].equalsIgnoreCase(guess) && display[i].equals("*")) {
                    display[i] = wordArray[i];
                    correctGuess = true;
                }
            }

            if (!correctGuess) {
                System.out.println(guess + " is not in the word.");
                misses++;
                System.out.println("You missed " + misses + " time(s).");
            }

            System.out.print("Word: ");
            for (String letter : display) {
                System.out.print(letter);
            }
            System.out.println();

            boolean allLettersGuessed = true;
            for (String letter : display) {
                if (letter.equals("*")) {
                    allLettersGuessed = false;
                    break;
                }
            }

            if (allLettersGuessed) {
                System.out.println("The word is: " + word + " - You missed " + misses + " time(s).");
                System.out.println("Congratulations! You got it!");
                gameFinished = true;
            }

            if (misses == 7) {
                System.out.println("Sorry, you used up all chances.");
                System.out.println("The word is: " + word);
                System.out.println("You missed 7 time(s).");
                gameFinished = true;
            }
        }
    }

    public static void visualizeHangman(int misses) {
        String[] hangman = {
                "H",
                "HA",
                "HAN",
                "HANG",
                "HANGM",
                "HANGMA",
                "HANGMAN"
        };

        System.out.println("Play " + hangman[misses] + "!");

        if (misses > 0) {
            for (int i = 0; i < 6 - misses; i++) {
                System.out.print("_");
            }
            System.out.println("AN!");
        } else {
            System.out.println("Enter a letter in the word: ");
        }
    }
}